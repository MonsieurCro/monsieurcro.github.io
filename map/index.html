<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
		<title>Urbex Map</title>
		<meta name="author" content="MonsieurCro"/>

		<!--<link rel="shortcut icon" href=""/>-->

		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap"/>
		<script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

		<script type="text/javascript" src="https://api.mapbox.com/mapbox-gl-js/v1.11.1/mapbox-gl.js"></script>
		<link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/v1.11.1/mapbox-gl.css"/>

		<style>
			* {
				outline: none;
				outline-color: transparent;
				-webkit-tap-highlight-color: rgba(255, 255, 255, 0);
				-webkit-touch-callout: none;
				-webkit-user-select: none;
				 -khtml-user-select: none;
				   -moz-user-select: none;
				    -ms-user-select: none;
				     -o-user-select: none;
				        user-select: none;
				-webkit-user-drag: none;
				        user-drag: none;
				-webkit-box-sizing: border-box;
				   -moz-box-sizing: border-box;
				        box-sizing: border-box;
				-webkit-transition: all .3s ease;
			       -moz-transition: all .3s ease;
					    transition: all .3s ease;
				font-family: 'Roboto', Arial, Helvetica, sans-serif;
				font-weight: 400;
				color: #333;
			}
			button, input[type="button"] {
				-webkit-appearance: none;
				   -moz-appearance: none;
				    -ms-appearance: none;
				margin: 0; padding: 0;
				border: none;
				background: none;
				cursor: pointer;
			}
			html {
				overflow-y: auto;
				scrollbar-width: none;
				-ms-overflow-style: none;

				background-color: #333;
			}
			html::-webkit-scrollbar {
				width: 0; height: 0;
				display: none;
			}
			#version {
				color: white;
				font-size: .5em;
				position: absolute;
				bottom: 2px; right: 2px; top: auto; left: auto;
				z-index: 999;
			}
			.modal {
				width: 95%; max-width: 900px; height: 90vh;
				margin: auto;
				background-color: white;
				padding: 3em 1em 1em;
				border-radius: 10px;
				-webkit-box-shadow: 0 0 3px 3px rgba(0, 0, 0, .25);
            		    box-shadow: 0 0 3px 3px rgba(0, 0, 0, .25);
            	position: relative;
			}
			.modal .close, .modal h3.title {
			    position: absolute;
			    top: 0; bottom: auto;
			    margin: 0;
			    height: 3rem; line-height: 3rem;
			    font-weight: 700;
			}
			.modal .close {
			    right: .75rem; left: auto;
			    z-index: 2;
			    font-size: 1.5rem;
			}
			.modal .close:hover {
				transform: rotate(90deg);
			}
			.modal h3.title {
				left: 1.5rem; right: auto;
				z-index: 1;
			}
			.modal #custom_map {
				width: 100%; height: 100%;
			}
			.mapboxgl-marker {
				width: 35px; height: 35px;
				background-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pjxzdmcgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDggNDg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA0OCA0OCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGcgaWQ9Ikljb25zIj48Zz48Zz48cGF0aCBkPSJNMjQuMDQxLDM4LjM3NjRjLTAuMTcsMC0wLjMxNS0wLjEyMTEtMC4zNDQ4LTAuMjg5MWwtMC42MTcxLTMuNDk0MWwtMC4wMDU0LTkuOTA5MiAgICAgYzAtMC4xOTM0LDAuMTU2Ny0wLjM0OTYsMC4zNTAxLTAuMzQ5NmgxLjIyMjZjMC4xOTM0LDAsMC4zNTAxLDAuMTU2MiwwLjM1MDEsMC4zNDk2djkuODQ4NmwtMC42MTA4LDMuNTUzNyAgICAgYy0wLjAyODgsMC4xNjgtMC4xNzQzLDAuMjkwMS0wLjM0NDIsMC4yOTAxSDI0LjA0MXoiIHN0eWxlPSJmaWxsOiNDQ0NDQ0M7Ii8+PC9nPjxnPjxyZWN0IGhlaWdodD0iMS45NTMxIiBzdHlsZT0ib3BhY2l0eTowLjE7IiB3aWR0aD0iMS45MjI4IiB4PSIyMy4wNzM3IiB5PSIyNy4zMzU1Ii8+PC9nPjxwYXRoIGQ9Ik0zMi4wNzYsMjcuNjg1NGMwLjAxMTYtMC4wNjk5LDAuMDExNi0wLjE1MTQsMC4wMTE2LTAuMjIxM2MwLTAuNDI0OC0wLjA4NjEtMC44NDgzLTAuMjUyOS0xLjIzOTEgICAgYy0wLjE2MjEtMC4zODAxLTAuMzk5LTAuNzI3NC0wLjY5MjYtMS4wMTgyYy0wLjIzNjYtMC4yMzQ1LTAuNTA2MS0wLjQyMTEtMC43OTg3LTAuNTc4NiAgICBjLTAuMjgwNy0wLjE1MTItMC42MTE2LTAuMjA5OC0wLjkxMDItMC4zMjc3Yy0wLjg1MjYtMC4zMzY4LTEuNjgwNC0wLjg0MTgtMi4yNjMyLTEuNTU5OCAgICBjLTAuMjgzNy0wLjM0OTUtMC4yMjk2LTAuNjg2Mi0wLjIyOTYtMS4xMDk0YzAtMC4yNzkyLDAtMC41NTg0LDAtMC44Mzc3YzAtMC4zNDQyLDAtMC42ODg1LDAtMS4wMzI3YzAtMC4zODIzLDAtMC43NjQ3LDAtMS4xNDcgICAgYzAtMC4zOTM1LDAtMC43ODcsMC0xLjE4MDRjMC0wLjM3NzcsMC0wLjc1NTQsMC0xLjEzMzFjMC0wLjMzNSwwLTAuNjcsMC0xLjAwNWMwLTAuMjY1MywwLTAuNTMwNywwLTAuNzk2ICAgIGMwLTAuMTkzMywwLjAwMDItMC4zODY1LTAuMDAwOC0wLjU3OThjLTAuMDAwNy0wLjEyMjcsMC4wOTY4LTAuMjM2OSwwLjE2MzEtMC4zMzUzYzAuMDc3My0wLjExNDksMC4xNjE3LTAuMjI1MSwwLjI1MjctMC4zMjk2ICAgIGMwLjE4MDMtMC4yMDcxLDAuMzg2NS0wLjM5MTYsMC42MTMzLTAuNTQ2NGMwLjE3NTYtMC4xMTk4LDAuMzYyNC0wLjIyMjcsMC41NTYxLTAuMzFjMC4xNjkzLTAuMDc2MywwLjM1MjctMC4xMDk4LDAuNTMxOS0wLjE1NDEgICAgYzAuMTc2My0wLjA0MzUsMC4zMzgtMC4xMTcsMC40ODExLTAuMjMwNGMwLjE5MTUtMC4xNTE3LDAuMzQwOS0wLjM1NSwwLjQyNy0wLjU4MzdjMC4wNTYxLTAuMTQ5MSwwLjA4NDktMC4zMDgsMC4wODQ5LTAuNDY3MyAgICBjMC0wLjczMzYtMC42MDU1LTEuMzM5Mi0xLjMzOTItMS4zMzkyaC0xLjc3MDFoLTUuOTM5aC0xLjcyMzZjLTAuNzI1NCwwLTEuMzM5MSwwLjYxMzctMS4zMzkyLDEuMzM5MiAgICBjMCwwLjUzMjIsMC4zMzg2LDEuMDI1OCwwLjgyODcsMS4yMjkzYzAuMDg4MSwwLjAzNjUsMC4xODA0LDAuMDYzMywwLjI3NDUsMC4wNzk0YzAuMjY4NSwwLjA0NTgsMC41MTMxLDAuMTcwOSwwLjc0NjYsMC4zMTAyICAgIGMwLjIyNDUsMC4xMzQsMC40MzM4LDAuMjkzMiwwLjYyMDYsMC40NzYxYzAuMTI5NSwwLjEyNjcsMC4yNDc5LDAuMjY0NywwLjM1NDEsMC40MTE1YzAuMDkyLDAuMTI3MSwwLjI0MDIsMC4yOTU4LDAuMjM5MiwwLjQ1ODcgICAgYy0wLjAwMTcsMC4yNjY3LTAuMDAxLDAuNTMzMy0wLjAwMSwwLjhjMCwwLjI5MjQsMCwwLjU4NDcsMCwwLjg3NzFjMCwwLjM1MzYsMCwwLjcwNzEsMCwxLjA2MDdjMCwwLjM4NzIsMCwwLjc3NDQsMCwxLjE2MTYgICAgYzAsMC4zOTMyLDAsMC43ODY1LDAsMS4xNzk4YzAsMC4zNzE5LDAsMC43NDM3LDAsMS4xMTU1YzAsMC4zMjI5LDAsMC42NDU3LDAsMC45Njg2YzAsMC4yNDYzLDAsMC40OTI2LDAsMC43Mzg5ICAgIGMwLDAuMjY1MSwwLjAyOTgsMC40OTUzLTAuMTMxMiwwLjcyMzFjLTAuNjA2OCwwLjg1ODItMS41OTYsMS40OTMyLTIuNTgyMSwxLjgyNDhjLTAuNTU5LDAuMTUxNC0xLjA0ODEsMC40NDI2LTEuNDQ0LDAuODI2OSAgICBjLTAuNTcwNiwwLjU4MjItMC45MzE2LDEuMzg1Ny0wLjkzMTYsMi4yNTkxYzAsMC4wNjk5LDAsMC4xNTE0LDAuMDExNiwwLjIyMTNIMzIuMDc2eiIgc3R5bGU9ImZpbGw6I0U1MjA0NjsiLz48cGF0aCBkPSJNMjAuNjg4NSwxMi4yMjM0YzAuOTMwMSwwLjQ2NTEsMS4xMzI4LDEuNzE3MSwxLjEzMjgsMS43MTcxdjguMzYwMSAgICBjMCwwLjM1NTYtMC4xMDkyLDAuNzA3MS0wLjMxMzUsMC45OTg1Yy0wLjE5NjMsMC4yNzk4LTAuNDU3OSwwLjUwNjgtMC43MTI1LDAuNzMxOGMtMC4yNiwwLjIyOTgtMC41MzcsMC40MjktMC44NDMyLDAuNTkzNCAgICBjLTAuMTU5OSwwLjA4NTgtMC4zMjU3LDAuMTY1OS0wLjQ5NSwwLjIzMTJjLTAuMjcxNywwLjEwNDktMC41NjM3LDAuMTM0Mi0wLjg0NTIsMC4yMDI2ICAgIGMtMC42NDQ4LDAuMTU2Ni0xLjIyNDgsMC41MzIzLTEuNTExOSwxLjE0NTZjLTAuMDg1MSwwLjE4MTgtMC4xNDMzLDAuMzc2Ny0wLjE3MjIsMC41NzU0ICAgIGMtMC4wMDE4LDAuMDEyNS0wLjAyNTUsMC4yNDM2LTAuMDE4MywwLjI0MzZoMC43MDY2Yy0wLjAyNjcsMCwwLjA2NzEtMC40MTgyLDAuMDgwOS0wLjQ1NjcgICAgYzAuMDQ2LTAuMTI3OSwwLjExMjQtMC4yNDc4LDAuMTk2LTAuMzU1YzAuMjA4Mi0wLjI2NzIsMC41MTA5LTAuNDQ0NiwwLjgyNTgtMC41NTgxYzAuNDA5LTAuMTQ3MywwLjg0NjItMC4xNjA0LDEuMjQ5OC0wLjMzMjMgICAgYzAuMDgyNC0wLjAzNTEsMC4xNTM1LTAuMDg2MSwwLjIzODktMC4xMTgzYzEuMTAyMS0wLjU1OTksMS43MDQ4LTEuMzA1LDIuMDAzMy0xLjc4OTRjMC4xNjc3LTAuMjcyLDAuMjUwMS0wLjU4MjcsMC4yNDY4LTAuOTAyMyAgICBsLTAuMDg3Ny04LjQ5ODVDMjIuMzY5OSwxMi41NDUzLDIwLjY4ODUsMTIuMjIzNCwyMC42ODg1LDEyLjIyMzR6IiBzdHlsZT0iZmlsbDojRjczMTYxOyIvPjwvZz48L2c+PC9zdmc+');
				background-size: contain;
				background-position: left bottom;
				background-repeat: no-repeat;
				border-radius: 0;
				cursor: pointer;
			}
			.mapboxgl-marker svg {
				display: none;
			}
			.mapboxgl-popup {
				width: 90%; max-width: 175px !important;
			    height: auto; max-height: 90%;
			    overflow: hidden;
			    /*Fix it*/
			    transform: translate(1rem, 1rem) !important;
			}
			.mapboxgl-popup-tip {
				display: none !important;
			}
			.mapboxgl-popup-close-button {
				top: .25rem; right: .25rem; bottom: auto; left: auto;
			    font-size: 1em; height: 1em; line-height: 0;
			    padding: 2.5px;
			    border-radius: 50%;
			    background-color: #EEE;
			}
			.mapboxgl-popup-close-button:hover {
				color: #EEE;
				background-color: #333;
			}
			.mapboxgl-popup-content {
			    text-align: center;
			    padding: .75rem;
			    border-radius: 1px;
			    -webkit-box-shadow: 0 0 2px 1px rgba(0, 0, 0, .15);
            		    box-shadow: 0 0 2px 1px rgba(0, 0, 0, .15);
			}
			.mapboxgl-popup-content img {
			    width: auto; max-width: 80%;
			    height: auto; max-height: 100%;
			    margin: .25rem auto 0;
			}
			.mapboxgl-popup-content h3 {
			    margin: 0 auto;
			    font-weight: 700;
			}
			.mapboxgl-popup-content .coord {
				margin: 0 auto;
				font-weight: 300;
			}
			.mapboxgl-popup-content p {
				padding-top: .5rem;
    			border-top: 1px solid #EEE;
    			margin: .5rem auto 0;
    			height: auto; max-height: 30vh;
    			overflow-y: auto;
    			scrollbar-width: none;
				-ms-overflow-style: none;
			}
			.mapboxgl-popup-content p::-webkit-scrollbar {
				width: 0; height: 0;
				display: none;
			}
		</style>
	</head>
	<body>
		<div class="modal">
			<button type="button" class="close" aria-label="Close">âœ•</button>
			<h3 class="title">Map</h3>
			<div id="custom_map"></div>
		</div>
		<div id="version">v0.1.5</div>

		<script type="text/javascript">
			$(document).ready(function(){
				// Create Map
				// https://docs.mapbox.com/mapbox-gl-js/examples/
				// https://www.maptiler.com/google-maps-coordinates-tile-bounds-projection/

				mapboxgl.accessToken = 'pk.eyJ1IjoibXJjcm8iLCJhIjoiY2tjZ29oZWhrMG0zdDMxbHB0b3J5bmU5ciJ9.MOQlOXhtgBSOccVP48pQfQ';
				var map = new mapboxgl.Map({
	      			container: 'custom_map',
			      	style: 'https://api.maptiler.com/maps/streets/style.json?key=RwhwbQ8iAXKzXz4nDnsR',
			      	center: [4.165556, 50.410722],
			      	zoom: 6.5,
			      	attributionControl: false
			    });

			    // Read markers
				$.getJSON('./markers.json', function(data){
					$.each(data.markers, function(i, data){
						
						var markerContent = '';
						if(data.image.trim().length > 0){ markerContent += '<img src="' + data.image + '" alt="" title=""/>' };
						if(data.name.trim().length > 0){ markerContent += '<h3>' + data.name + '</h3>' };
						if(data.coord.length > 0){ markerContent += '<span class="coord">' + data.coord[0] + ' | ' + data.coord[1] + '</span>' };
						if(data.descr.trim().length > 0){ markerContent += '<p>' + data.descr + '</p>' };
						if(data.link.length > 0){ markerContent += '<p><a href="' + data.link[1] + '" target="_blank">' + data.link[0] + '</a></p>' };

						// Write markers
						new mapboxgl.Marker({ anchor:'center' })
						.setLngLat({lon: data.coord[0], lat: data.coord[1]})
						.setPopup(new mapboxgl.Popup({ offset: 37.5 })
							.setHTML(markerContent)
						)
						.addTo(map); // .togglePopup();
					});
				});
			});
		</script>
	</body>
</html>'