<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
		<title>Urbex Map</title>
		<meta name="author" content="MonsieurCro"/>

		<!--<link rel="shortcut icon" href=""/>-->

		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap"/>
		<script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

		<script type="text/javascript" src="https://api.mapbox.com/mapbox-gl-js/v1.11.1/mapbox-gl.js"></script>
		<link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/v1.11.1/mapbox-gl.css"/>

		<style>
			* {
				outline: none;
				outline-color: transparent;
				-webkit-tap-highlight-color: rgba(255, 255, 255, 0);
				-webkit-touch-callout: none;
				-webkit-user-select: none;
				 -khtml-user-select: none;
				   -moz-user-select: none;
				    -ms-user-select: none;
				     -o-user-select: none;
				        user-select: none;
				-webkit-user-drag: none;
				        user-drag: none;
				-webkit-box-sizing: border-box;
				   -moz-box-sizing: border-box;
				        box-sizing: border-box;
				-webkit-transition: all .3s ease;
			       -moz-transition: all .3s ease;
					    transition: all .3s ease;
				font-family: 'Roboto', Arial, Helvetica, sans-serif;
				font-weight: 400;
				color: #333;
			}
			button, input[type="button"] {
				-webkit-appearance: none;
				   -moz-appearance: none;
				    -ms-appearance: none;
				margin: 0; padding: 0;
				border: none;
				background: none;
				cursor: pointer;
			}
			html {
				overflow-y: auto;
				scrollbar-width: none;
				-ms-overflow-style: none;

				background-color: #333;
			}
			html::-webkit-scrollbar {
				width: 0; height: 0;
				display: none;
			}
			#version {
				color: white;
				font-size: .5em;
				position: absolute;
				bottom: 0; right: 0; top: auto; left: auto;
				z-index: 999;
			}
			.modal {
				width: 95%; max-width: 900px; height: 90vh;
				margin: auto;
				background-color: white;
				padding: 3em 1em 1em;
				border-radius: 10px;
				-webkit-box-shadow: 0 0 3px 3px rgba(0, 0, 0, .25);
            		    box-shadow: 0 0 3px 3px rgba(0, 0, 0, .25);
            	position: relative;
			}
			.modal .close, .modal h3.title {
			    position: absolute;
			    top: 0; bottom: auto;
			    margin: 0;
			    height: 3rem; line-height: 3rem;
			    font-weight: 700;
			}
			.modal .close {
			    right: .75rem; left: auto;
			    z-index: 2;
			    font-size: 1.5rem;
			}
			.modal .close:hover {
				transform: rotate(90deg);
			}
			.modal h3.title {
				left: 1.5rem; right: auto;
				z-index: 1;
			}
			.modal #custom_map {
				width: 100%; height: 100%;
			}
			.mapboxgl-marker {
				width: 25px; height: 25px;
				background-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjxzdmcgaGVpZ2h0PSIyNCIgdmVyc2lvbj0iMS4xIiB3aWR0aD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLTEwMjguNCkiPjxwYXRoIGQ9Im0yIDEwMzQuNGMtMS4xMDQ2IDAtMiAwLjktMiAydjIgOCAyYzAgMS4xIDAuODk1NDMgMiAyIDJoMTYgNGMxLjEwNSAwIDItMC45IDItMnYtMTAtMmMwLTEuMS0wLjg5NS0yLTItMmgtNC0xMi00eiIgZmlsbD0iI2MwMzkyYiIvPjxwYXRoIGQ9Im0yIDEwMzEuNGMtMS4xMDQ2IDAtMiAwLjktMiAydjIgOCAyYzAgMS4xIDAuODk1NDMgMiAyIDJoMTYgNGMxLjEwNSAwIDItMC45IDItMnYtMTAtMmMwLTEuMS0wLjg5NS0yLTItMmgtNC0xMi00eiIgZmlsbD0iI2MwMzkyYiIvPjxwYXRoIGQ9Im0yIDEwMzMuNGMtMS4xMDQ2IDAtMiAwLjktMiAydjIgOCAyYzAgMS4xIDAuODk1NDMgMiAyIDJoMTYgNGMxLjEwNSAwIDItMC45IDItMnYtMTAtMmMwLTEuMS0wLjg5NS0yLTItMmgtNC0xMi00eiIgZmlsbD0iI2U3NGMzYyIvPjxwYXRoIGQ9Im0xNyAxM2E2IDYgMCAxIDEgLTEyIDAgNiA2IDAgMSAxIDEyIDB6IiBmaWxsPSIjYzAzOTJiIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxIDEwMjkuNCkiLz48cGF0aCBkPSJtMTcgMTNhNiA2IDAgMSAxIC0xMiAwIDYgNiAwIDEgMSAxMiAweiIgZmlsbD0iI2VjZjBmMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMSAxMDI4LjQpIi8+PHBhdGggZD0ibTE1IDEyLjVhMyAzLjUgMCAxIDEgLTYgMCAzIDMuNSAwIDEgMSA2IDB6IiBmaWxsPSIjMzQ0OTVlIiB0cmFuc2Zvcm09Im1hdHJpeCgxLjMzMzMgMCAwIDEuMTQyOSAtNCAxMDI3LjEpIi8+PHBhdGggZD0ibTE1IDEyLjVhMyAzLjUgMCAxIDEgLTYgMCAzIDMuNSAwIDEgMSA2IDB6IiBmaWxsPSIjMmMzZTUwIiB0cmFuc2Zvcm09Im1hdHJpeCgxIDAgMCAuODU3MTQgMCAxMDMwLjYpIi8+PHBhdGggZD0ibTE0IDEzYTIgMiAwIDEgMSAtNCAwIDIgMiAwIDEgMSA0IDB6IiBmaWxsPSIjMzQ0OTVlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDEwMjguNCkiLz48cGF0aCBkPSJtMTMgMTNhMSAxIDAgMSAxIC0yIDAgMSAxIDAgMSAxIDIgMHoiIGZpbGw9IiMzNDk4ZGIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgMTAyOC40KSIvPjxwYXRoIGQ9Im0yNSAxMi41YTEuNSAxLjUgMCAxIDEgLTMgMCAxLjUgMS41IDAgMSAxIDMgMHoiIGZpbGw9IiNlY2YwZjEiIHRyYW5zZm9ybT0ibWF0cml4KC42NjY2NyAwIDAgLjY2NjY2IC00LjY2NjcgMTAzMSkiLz48cmVjdCBmaWxsPSIjZWNmMGYxIiBoZWlnaHQ9IjEiIHdpZHRoPSIzIiB4PSIxOSIgeT0iMTAzNi40Ii8+PHJlY3QgZmlsbD0iIzdmOGM4ZCIgaGVpZ2h0PSIxIiB3aWR0aD0iMyIgeD0iMTkiIHk9IjEwMzUuNCIvPjxwYXRoIGQ9Im00IDJjLTEuMTA0NiAwLTIgMC44OTU0LTIgMmgyIDMgMmMwLTEuMTA0Ni0wLjg5NTQtMi0yLTJoLTN6IiBmaWxsPSIjYzAzOTJiIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDEwMjguNCkiLz48L2c+PC9zdmc+');
				background-size: contain;
				background-position: left bottom;
				background-repeat: no-repeat;
				border-radius: 0;
				cursor: pointer;
			}
			.mapboxgl-marker svg {
				display: none;
			}
			.mapboxgl-popup {
				width: 90%; max-width: 175px !important;
			    height: auto; max-height: 90%;
			    /*Fix it*/
			    transform: translate(1rem, 1rem) !important;
			}
			.mapboxgl-popup-tip {
				display: none !important;
			}
			.mapboxgl-popup-close-button {
				top: .25rem; right: .25rem; bottom: auto; left: auto;
			    font-size: 1em; height: 1em; line-height: 0;
			    padding: 2.5px;
			    border-radius: 50%;
			    background-color: #EEE;
			}
			.mapboxgl-popup-close-button:hover {
				color: #EEE;
				background-color: #333;
			}
			.mapboxgl-popup-content {
			    text-align: center;
			    padding: .75rem;
			    border-radius: 1px;
			    -webkit-box-shadow: 0 0 2px 1px rgba(0, 0, 0, .15);
            		    box-shadow: 0 0 2px 1px rgba(0, 0, 0, .15);
			}
			.mapboxgl-popup-content img {
			    width: auto; max-width: 80%;
			    height: auto; max-height: 100%;
			    margin: .25rem auto 0;
			}
			.mapboxgl-popup-content h3 {
			    margin: 0 auto;
			    font-weight: 700;
			}
			.mapboxgl-popup-content p.coord {
				margin: 0 auto;
				font-weight: 300;
			}
			.mapboxgl-popup-content p:not(.coord) {
				padding-top: .5rem;
    			border-top: 1px solid #EEE;
    			margin: .5rem auto 0;
			}
		</style>
	</head>
	<body>
		<div class="modal">
			<button type="button" class="close" aria-label="Close">âœ•</button>
			<h3 class="title">Map</h3>
			<div id="custom_map"></div>
		</div>
		<div id="version">v0.1</div>

		<script type="text/javascript">
			$(document).ready(function(){
				// Create Map

				// https://docs.mapbox.com/mapbox-gl-js/examples/
				// https://www.maptiler.com/google-maps-coordinates-tile-bounds-projection/

				mapboxgl.accessToken = 'pk.eyJ1IjoibXJjcm8iLCJhIjoiY2tjZ29oZWhrMG0zdDMxbHB0b3J5bmU5ciJ9.MOQlOXhtgBSOccVP48pQfQ';
				var map = new mapboxgl.Map({
	      			container: 'custom_map',
			      	style: 'https://api.maptiler.com/maps/streets/style.json?key=RwhwbQ8iAXKzXz4nDnsR',
			      	center: [4.165556, 50.410722],
			      	zoom: 6.5,
			      	attributionControl: false
			    });

			    // Read markers
				$.getJSON('./markers.json', function(data){
					$.each(data.markers, function(i, data){
						console.log(data.name, data.coord, data.image, data.description);

						// Write markers
						new mapboxgl.Marker({ anchor:'center' })
						.setLngLat([data.coord])
						.setPopup(new mapboxgl.Popup({ offset: 27.5 })
							.setHTML([
								'<img src="' + data.image + '" alt="" title=""/>',
								'<h3>' + data.name + '</h3>',
								'<p class="coord">' + data.coord + '</p>',
								'<p>' + data.description + '</p>'
							].join(''))
						)
						.addTo(map); // .togglePopup();
					});
				});
			});
		</script>
	</body>
</html>'